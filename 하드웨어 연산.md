# 하드웨어 연산

## 산술연산

* 덧셈, 뺄셈, 곱셈, 나눗셈의 **사칙연산**의 계산을 하는 것
* 컴퓨터는 **레지스터와 ALU**를 통해 산술연산을 수행

&nbsp;  

## 산술 명령어

(MIPS 기준)

* 산술 명령어는 반드시 **한종류의 연산만 지시**
* 산술 명령어는 항상 변수 세 개를 갖는 형식
* 피연산자가 반드시 3개인 이유
  * 간단함
  * 규칙적

```pseudocode
// b, c, d, e의 합을 a에 넣는 경우
// opcode | 레지스터1 | 레지스터2 | 레지스터 3
ADD a b c
ADD a a d
ADD a a e
```

&nbsp;  

## MIPS 레지스터

* 연산을 위해 MIPS 명령어 구조에서 제공하는 레지스터
* 레지스터는 컴퓨터가 사용하는 일종의 변수

| 이름          | 레지스터 번호 | 용도                                                         |
| ------------- | ------------- | ------------------------------------------------------------ |
| $zero         | $0            | 항상 0을 출력하는 레지스터. 이 레지스터의 값은 바꿀 수 없다  |
| $at           | $1            | 의사 명령어(특정 조건 만족시 분기 명령어) 계산 결과를 위해 예약된 레지스터 |
| **$v0 ~ $v1** | $2 ~ $3       | **함수로부터 반환된 값**을 저장하는 레지스터                 |
| $a0 ~ $a3     | $4 ~ $7       | 함수 인수 저장용 레지스터                                    |
| $t0 ~ $t7     | $8 ~ $15      | 어셈블러나 어셈블리 언어에서 값을 임시로 저장할 때 사용하는 레지스터 |
| **$s0 ~ $s7** | $16 ~ $23     | 오랫동안 지속되는 값을 저장할 때 사용하는 레지스터           |
| $t8 ~ $t9     | $24 ~ $25     | 어셈블러나 어셈블리 언어에서 값을 임시로 저장할 때 사용하는 레지스터 |
| $k0 ~ $k1     | $26 ~ $27     | OS 커널을 위해 예약된 레지스터                               |
| $gp           | $28           | 전역 포인터의 값을 저장하는 레지스터                         |
| **$sp**       | $29           | **스택 포인터의 값을 저장하는 레지스터**                     |
| **$fp**       | $30           | **프레임 포인터의 값을 저장하는 레지스터**                   |
| **$ra**       | $31           | **주소 반환값을 저장하는 레지스터**                          |

&nbsp;  

### 스택 프레임

* 함수가 실행될 때마다 자신만의 고유한 stack 영역을 가질 수 있다.
* 함수의 스택 프레임 시작점은 fp가 가리킨다.
* 함수 종료시 해제되고 리턴 주소($ra)로 복귀한다.

&nbsp;  

